mqtt:
  switch:
    - name: PS5-538 Power
      unique_id: ps5_538
      command_topic: playstation/78C881DDBD74/set/power
      state_topic: playstation/78C881DDBD74
      availability:
        - topic: playstation/78C881DDBD74
          value_template: "{{ value_json.device_status }}"
      optimistic: false
      icon: "mdi:sony-playstation"
      state_on: AWAKE
      state_off: STANDBY
      payload_on: AWAKE
      payload_off: STANDBY
      device:
        manufacturer: Sony
        model: Playstation 5
        name: PS5-538
        identifiers:
          - "78C881DDBD74"
        connections:
          - ip:
              address: "10.0.44.90"
              family: IPv4
              port: 9302
              size: 170
        sw_version: "09690001"

media_player:
  - name: Gaming Room Universal PlayStation 5
    unique_id: gaming_room_universal_playstation_5
    platform: universal
    children:
      - media_player.gaming_room_avr
      - media_player.gaming_room_tv
    state_template: >
      {{ states('switch.ps5_538') }}
    commands:
      turn_off:
        service: switch.turn_off
        entity_id: switch.ps5_538
      turn_on:
        service: switch.turn_on
        entity_id: switch.ps5_538
      volume_set:
        service: media_player.volume_set
        entity_id: media_player.gaming_room_avr
        data_template:
          volume_level: "{{ volume_level }}"
      volume_up:
        service: media_player.volume_up
        entity_id: media_player.gaming_room_avr
      volume_down:
        service: media_player.volume_down
        entity_id: media_player.gaming_room_avr
      volume_mute:
        service: media_player.volume_mute
        entity_id: media_player.gaming_room_avr
        data_template:
          is_volume_muted: "{{ is_volume_muted }}"
    attributes:
      is_volume_muted: media_player.gaming_room_avr|is_volume_muted
      volume_level: media_player.gaming_room_avr|volume_level
      source: PS4
      source_list: media_player.gaming_room_avr|source_list
